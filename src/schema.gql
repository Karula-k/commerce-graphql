# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type ProductEntity {
  id: String!
  name: String!
  category: String!
  price: Float!
  stock: Int!
  createdAt: Timestamp!
  updatedAt: Timestamp!
}

"""
`Date` type as integer. Type represents date and time as number of milliseconds from start of UNIX epoch.
"""
scalar Timestamp

type OrderProductEntity {
  id: String!
  orderId: String!
  productId: String!
  quantity: Int!
  price: Float!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  product: ProductEntity
  order: OrderEntity
}

type OrderEntity {
  id: String!
  userId: String!
  orderNumber: String!
  orderStatus: OrderStatus!
  totalAmount: Float!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  orderProducts: [OrderProductEntity!]
}

enum OrderStatus {
  draft
  pending
  paid
  wip
  done
  cancel
  refund
}

type UserEntity {
  id: String!
  name: String!
  orders: [OrderEntity]
}

type TransactionEntity {
  id: ID!
  orderId: String!
  paymentStatus: PaymentStatus!
  amount: Float!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  urlString: String
  urlExpiry: Timestamp
  order: OrderEntity!
}

enum PaymentStatus {
  pending
  paid
  cancelled
}

type Query {
  allUsers: [UserEntity!]
  getUser(id: String!): UserEntity
  getProducts(name: String, category: String, minPrice: Float, maxPrice: Float): [ProductEntity!]
  getProduct(id: String!): ProductEntity
  getOrders: [OrderEntity!]
  getOrder(id: String!): OrderEntity
  getOrderProducts: [OrderProductEntity!]
  getOrderProduct(id: String!): OrderProductEntity
  transactions: [TransactionEntity!]!
  findOne(id: String!): TransactionEntity
}

type Mutation {
  registerUser(data: CreateUserInput!): UserEntity!
  updateUser(data: CreateUserInput!, id: String!): UserEntity!
  removeProduct(id: String!): Boolean!
  createProduct(data: CreateProductInput!): ProductEntity!
  updateProduct(data: UpdateProductInput!): ProductEntity
  createOrder(data: CreateOrderInput!): OrderEntity!
  createOrderProduct(data: CreateOrderProductInput!): OrderProductEntity!
  updateOrderProduct(data: UpdateOrderProductInput!): OrderProductEntity
  createTransaction(createTransactionInput: CreateTransactionInput!): TransactionEntity!
  updateTransaction(id: String!, updateTransactionInput: UpdateTransactionInput!): TransactionEntity!
  removeTransaction(id: String!): Boolean!
}

input CreateUserInput {
  name: String!
}

input CreateProductInput {
  name: String!
  category: String!
  price: Float!
  stock: Int!
}

input UpdateProductInput {
  name: String
  category: String
  price: Float
  stock: Int
  id: String!
}

input CreateOrderInput {
  userId: String!
  orderNumber: String!
  orderStatus: OrderStatus
  totalAmount: Float
  orderProducts: [CreateOrderProductInput!]!
}

input CreateOrderProductInput {
  orderId: String!
  productId: String!
  quantity: Int!
  price: Float!
}

input UpdateOrderProductInput {
  orderId: String
  productId: String
  quantity: Int
  price: Float
  id: String!
}

input CreateTransactionInput {
  orderId: String!
  paymentStatus: PaymentStatus
  amount: Float!
  urlString: String
  urlExpiry: Timestamp
}

input UpdateTransactionInput {
  paymentStatus: PaymentStatus
  amount: Float
  urlString: String
  urlExpiry: Timestamp
}